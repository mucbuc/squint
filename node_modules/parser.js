function Parser( emitter ) {

  this.process = function( code ) {
    
    code.match( this.namedMatch ).forEach( function( match ) {
      
      var named = match.toString();
      
      if (named[named.length-1] == '{') {
        emitter.emit( 'definition', named );
      } 
      else {
        emitter.emit( 'declaration', named );
      }
    } );
  }; 
}; 

Parser.prototype.namedMatch = new RegExp( '.*?[{;][^=]', 'g' );
module.exports.Parser = Parser;

module.exports.testParser = function() {

  var emitter = { 
      emit: function( event, data ) { console.log( event, data ); }
    }
    , parser = new Parser( emitter );
    
    parser.process( 'int text(); void function(); class hello {}' );
};